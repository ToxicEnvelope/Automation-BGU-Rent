package il.co.bgurent.pageobject;

import org.junit.Assert;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

public class MainPage extends BasePage {

	// FILEDS
	boolean isPresent = false;
	
	WebElement mainLoader;
	WebElement loaderLable;
	WebElement loginView;
	WebElement registerView;
	WebElement langControl;
	
	// CONSTRUCTOR
	public MainPage(WebDriver driver) {
		super(driver);
		 this.mainLoader = 
				 driver.findElement(By.cssSelector("i.welcome-load.loader"));
		this.loaderLable = 
				driver.findElement(By.cssSelector("i>lable"));
		 this.loginView = 
				 driver.findElement(By.xpath("//*/a[@ui-sref='home.login']"));
		 this.registerView = 
				 driver.findElement(By.xpath("//*/a[@ui-sref='home.register']"));
		 this.langControl = 
				 driver.findElements(By.cssSelector("ul.dropdown-menu"));
	}
	
	// PUBLIC METHODS
	public void isLoaderDispayed() {
		Assert.assertEquals("BGU Rent", loaderLable.getText());
		Assert.assertTrue(waitUntilElementLocatedByClassName(mainLoader.getAttribute("class")));
	}
	
	public void makeLogin(String alias, String key) {
		try {
			if(alias != null && key != null) {
				if(loginView.isDisplayed()) {
					loginView.click();
				}
				else {
					isPresent = waitUntilElementLocatedByXPath("//*/a[@ui-sref='home.login']");
					if(isPresent) {
						loginView.click();
					}
					else {
						System.out.println("Element doesn't exists!");
					}
				}
				if()
			}
		}
		catch (Exception ex) {
			ex.printStackTrace();
		}
	}
	
}
